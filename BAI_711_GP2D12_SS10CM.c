#INCLUDE <TV_PICKIT2_SHIFT_1.c>
UNSIGNED INT16 KQADC,K_CACH;

VOID MAIN()
{
   SET_UP_PORT_IC_CHOT();
   SETUP_ADC(ADC_CLOCK_DIV_32);
   SETUP_ADC_PORTS(AN0_TO_AN2|VSS_VDD);
   SET_ADC_CHANNEL(2);
   WHILE(TRUE)
   {
      KQADC=READ_ADC();
      DELAY_MS(30);
      IF (KQADC>=490)                  K_CACH=10;
      IF ((KQADC<490)&&(KQADC>275))    K_CACH=20;
      IF ((KQADC<=276)&&(KQADC>194))   K_CACH=30;
      IF ((KQADC<=194)&&(KQADC>150))   K_CACH=40;
      IF ((KQADC<=150)&&(KQADC>122))   K_CACH=50;
      IF ((KQADC<=122)&&(KQADC>106))   K_CACH=60;
      IF ((KQADC<=106)&&(KQADC>96))    K_CACH=70;
      IF ((KQADC<=96)&&(KQADC>80))     K_CACH=80;
      XUAT_4LED_7DOAN_GIAIMA_XOA_SO0(K_CACH);
   } 
}

